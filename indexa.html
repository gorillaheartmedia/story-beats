
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Story Toolkit App</title>
  <style>
.fab-research {
  position: fixed;
  right: 32px;
  bottom: 32px;
  z-index: 9999;
  width: 62px;
  height: 62px;
  background: linear-gradient(130deg, #4befff 60%, #1958ca 100%);
  border-radius: 50%;
  box-shadow: 0 2px 22px #2b7aff66;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background .14s, box-shadow .12s;
}
.fab-research:hover {
  background: linear-gradient(110deg, #1958ca 40%, #4befff 100%);
  box-shadow: 0 4px 34px #3be3ff99;
}
.fab-research .fab-icon {
  font-size: 2em;
  color: #14283c;
  filter: drop-shadow(0 2px 4px #fffbe933);
  user-select: none;
}
.fab-research:after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 78px;
  right: 0;
  background: #14283ccc;
  color: #fffbb0;
  padding: 6px 16px;
  border-radius: 9px;
  font-size: 1em;
  font-weight: 500;
  pointer-events: none;
  opacity: 0;
  transform: translateY(12px);
  transition: opacity .17s, transform .17s;
  white-space: nowrap;
}
.fab-research:hover:after {
  opacity: 1;
  transform: translateY(0);
}
</style>
<script>
  getProjectId().then(projectId => {
    console.log("Current projectId:", projectId);
    if (!projectId) {
      alert("No project selected!");
      window.location.href = "dashboard.html";
    }
  });
</script>
</head>
<body>
  <div id="root"></div>
  <script type="module">
    import React from "react";
    import { createRoot } from "react-dom/client";
    import { BrowserRouter as Router, Routes, Route, Link } from "react-router-dom";
    import CorePromptEngine from "./CorePromptEngine.jsx";
    import CharacterLayer from "./CharacterLayer.jsx";
    import CharacterDirectory from "./CharacterDirectory.jsx";
    import DialogueBuilder from "./DialogueBuilder.jsx";

    function App() {
      return (
        <Router>
          <nav className="p-4 bg-gray-900 text-white space-x-4">
            <Link to="/">Core Prompts</Link>
            <Link to="/characters">Characters</Link>
            <Link to="/directory">Directory</Link>
            <Link to="/dialogue">Dialogue Builder</Link>
          </nav>
          <Routes>
            <Route path="/" element={<CorePromptEngine />} />
            <Route path="/characters" element={<CharacterLayer />} />
            <Route path="/directory" element={<CharacterDirectory />} />
            <Route path="/dialogue" element={<DialogueBuilder />} />
          </Routes>
        </Router>
      );
    }

    const root = createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
