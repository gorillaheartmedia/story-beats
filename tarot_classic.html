<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Classic Tarot Deck</title>
  <link href="https://fonts.googleapis.com/css?family=Inter:400,600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #143575 60%, #1958ca 100%);
      color: #eaf3ff;
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }
    .tarot-container {
      max-width: 580px;
      margin: 40px auto;
      background: rgba(24,39,70,0.95);
      border-radius: 20px;
      box-shadow: 0 6px 38px #06103a55;
      padding: 40px 30px;
      border: 1.5px solid #3b82f644;
      animation: fadein 0.7s;
    }
    @keyframes fadein { from { opacity: 0; transform: translateY(40px);} to {opacity:1;transform:none;} }
    h1 {
      text-align: center;
      color: #fff;
      font-size: 2.1em;
      margin-bottom: 10px;
    }
    .top-bar {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .top-bar button {
      background: linear-gradient(92deg, #3b82f6, #1958ca 90%);
      color: #fff;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.15s;
    }
    .top-bar button:hover {
      background: linear-gradient(92deg, #1958ca, #3b82f6 90%);
    }
    .tarot-btns {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .tarot-btn {
      font-size: 1.05em;
      padding: 10px 22px;
      border-radius: 8px;
      background: linear-gradient(92deg, #2671f2, #2959de 90%);
      color: #fff;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: background .17s, color .13s;
    }
    .tarot-btn:hover {
      background: linear-gradient(92deg, #2959de, #60a5fa 100%);
      color: #e0f4ff;
    }
    .tarot-cards-row {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 20px;
    }
    .tarot-card {
      background: linear-gradient(140deg, #15326a 70%, #329dfa 120%);
      color: #fff;
      border-radius: 15px;
      box-shadow: 0 4px 20px #09225077;
      width: 140px;
      padding: 12px;
      text-align: center;
      animation: flipIn 0.68s cubic-bezier(.21,.78,.47,1.32);
    }
    @keyframes flipIn {
      0% {transform: rotateY(90deg) scale(.89);}
      68% {transform: rotateY(-22deg) scale(1.08);}
      100% {transform: rotateY(0deg) scale(1);}
    }
    .tarot-name {
      font-size: 1.15em;
      font-weight: 600;
      margin-bottom: 5px;
      color: #ffe285;
    }
    .tarot-arcana {
      font-size: .96em;
      color: #a6d7ff;
      margin-bottom: 4px;
    }
    .tarot-orientation {
      font-size: 0.93em;
      font-style: italic;
      color: #f8c392;
    }
    .tarot-meaning {
      font-size: .94em;
      margin-top: 6px;
      color: #dbf6ff;
    }
    .tarot-footer {
      margin-top: 25px;
      font-size: .92em;
      text-align: center;
      color: #93c6ff;
      opacity: .78;
    }
    /* Orbit FAB */
    .orbit-fab, .orbit-child-fab {
      position: fixed;
      right: 32px;
      bottom: 32px;
      z-index: 3000;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all .2s;
    }
    .orbit-fab {
      background: linear-gradient(130deg, #ffe285 60%, #1958ca 100%);
      box-shadow: 0 2px 30px #ffd70088;
      font-size: 2em;
    }
    .orbit-fab:hover {
      background: linear-gradient(110deg, #1958ca 30%, #ffe285 100%);
      box-shadow: 0 6px 40px #ffd700bb;
    }
    .orbit-child-fab {
      opacity: 0;
      pointer-events: none;
      background: linear-gradient(130deg, #3b82f6 60%, #1958ca 100%);
      font-size: 1.8em;
      box-shadow: 0 1px 14px #1958ca44;
    }
    .orbit-child-fab[data-tooltip]:after {
      content: attr(data-tooltip);
      position: absolute;
      right: 70px;
      top: 15px;
      background: #12244acc;
      color: #fffbb0;
      padding: 6px 16px;
      border-radius: 9px;
      font-size: 1em;
      font-weight: 500;
      opacity: 0;
      transform: translateY(12px);
      transition: opacity .17s, transform .17s;
      white-space: nowrap;
    }
    .orbit-child-fab:hover:after {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
  <script>
  getProjectId().then(projectId => {
    console.log("Current projectId:", projectId);
    if (!projectId) {
      alert("No project selected!");
      window.location.href = "dashboard.html";
    }
  });
</script>
</head>
<body>
  <div class="tarot-container">
    <div class="top-bar">
      <button onclick="window.location.href='core.html'">‚¨Ö Back to Core Project</button>
    </div>
    <h1>Classic Tarot Deck</h1>
    <div class="tarot-btns">
      <button class="tarot-btn" onclick="drawTarot(1)">Draw 1 Card</button>
      <button class="tarot-btn" onclick="drawTarot(3)">Draw 3 Cards</button>
      <button class="tarot-btn" onclick="drawTarot(5)">Draw 5 Cards</button>
      <button class="tarot-btn" onclick="shuffleTarot()">Shuffle Deck</button>
    </div>
    <div id="tarotResults" class="tarot-cards-row"></div>
    <div class="tarot-footer">
      <b>Pro Tip:</b> Cards may appear reversed! Shuffle for a new spread.
    </div>
  </div>

  <!-- Orbit FAB -->
  <div id="coreFab" class="orbit-fab">üîÆ</div>
  <div id="fab-trope" class="orbit-child-fab" data-tooltip="Trope Deck" onclick="goToTrope()">üìö</div>
  <div id="fab-home" class="orbit-child-fab" data-tooltip="Home" onclick="window.location.href='project_core.html'">üè†</div>
<script>
/* Save deck type for generator hub */
sessionStorage.setItem("tarotDeckType", "classic");

/* ----- FULL CLASSIC TAROT DECK ----- */
const tarotDeck = [
  // ----- Major Arcana -----
  { name: "The Fool", arcana: "Major", upright: "New beginnings, innocence, spontaneity, a free spirit", reversed: "Recklessness, taken advantage of, inconsideration" },
  { name: "The Magician", arcana: "Major", upright: "Willpower, desire, creation, manifestation", reversed: "Trickery, illusions, out of touch" },
  { name: "The High Priestess", arcana: "Major", upright: "Intuition, unconscious, inner voice", reversed: "Lack of center, lost inner voice, repressed feelings" },
  { name: "The Empress", arcana: "Major", upright: "Motherhood, fertility, nature", reversed: "Dependence, smothering, emptiness" },
  { name: "The Emperor", arcana: "Major", upright: "Authority, structure, control, fatherhood", reversed: "Tyranny, rigidity, coldness" },
  { name: "The Hierophant", arcana: "Major", upright: "Tradition, conformity, morality, ethics", reversed: "Rebellion, subversiveness, new approaches" },
  { name: "The Lovers", arcana: "Major", upright: "Partnerships, duality, union", reversed: "Loss of balance, one-sidedness, disharmony" },
  { name: "The Chariot", arcana: "Major", upright: "Direction, control, willpower, victory", reversed: "Lack of control, aggression, opposition" },
  { name: "Strength", arcana: "Major", upright: "Courage, patience, control, compassion", reversed: "Self-doubt, weakness, insecurity" },
  { name: "The Hermit", arcana: "Major", upright: "Contemplation, search for truth, inner guidance", reversed: "Loneliness, isolation, lost your way" },
  { name: "Wheel of Fortune", arcana: "Major", upright: "Change, cycles, fate, decisive moments", reversed: "No control, clinging to control, bad luck" },
  { name: "Justice", arcana: "Major", upright: "Justice, fairness, truth, law", reversed: "Dishonesty, unaccountability, unfairness" },
  { name: "The Hanged Man", arcana: "Major", upright: "Sacrifice, release, martyrdom", reversed: "Stalling, needless sacrifice, fear of sacrifice" },
  { name: "Death", arcana: "Major", upright: "Endings, change, transformation, transition", reversed: "Fear of change, holding on, stagnation" },
  { name: "Temperance", arcana: "Major", upright: "Middle path, patience, finding meaning", reversed: "Extremes, excess, lack of balance" },
  { name: "The Devil", arcana: "Major", upright: "Addiction, materialism, playfulness", reversed: "Freedom, release, restoring control" },
  { name: "The Tower", arcana: "Major", upright: "Sudden upheaval, broken pride, disaster", reversed: "Disaster avoided, delayed disaster, fear of suffering" },
  { name: "The Star", arcana: "Major", upright: "Hope, faith, rejuvenation", reversed: "Faithlessness, discouragement, insecurity" },
  { name: "The Moon", arcana: "Major", upright: "Unconscious, illusions, intuition", reversed: "Confusion, fear, misinterpretation" },
  { name: "The Sun", arcana: "Major", upright: "Joy, success, celebration, positivity", reversed: "Negativity, depression, sadness" },
  { name: "Judgement", arcana: "Major", upright: "Reflection, reckoning, awakening", reversed: "Lack of self awareness, doubt, self loathing" },
  { name: "The World", arcana: "Major", upright: "Fulfillment, harmony, completion", reversed: "Incompletion, no closure, emptiness" },

  // ----- Cups -----
  { name: "Ace of Cups", arcana: "Minor", suit: "Cups", upright: "Love, new feelings, emotional awakening, creativity", reversed: "Emotional loss, blocked creativity, emptiness" },
  { name: "Two of Cups", arcana: "Minor", suit: "Cups", upright: "Unity, partnership, connection", reversed: "Imbalance, broken communication, tension" },
  { name: "Three of Cups", arcana: "Minor", suit: "Cups", upright: "Friendship, community, happiness", reversed: "Overindulgence, gossip, isolation" },
  { name: "Four of Cups", arcana: "Minor", suit: "Cups", upright: "Apathy, contemplation, disconnectedness", reversed: "Sudden awareness, choosing happiness" },
  { name: "Five of Cups", arcana: "Minor", suit: "Cups", upright: "Loss, grief, self-pity", reversed: "Acceptance, moving on, finding peace" },
  { name: "Six of Cups", arcana: "Minor", suit: "Cups", upright: "Nostalgia, happy memories, reunion", reversed: "Stuck in the past, naivety, unrealistic" },
  { name: "Seven of Cups", arcana: "Minor", suit: "Cups", upright: "Opportunities, choices, wishful thinking", reversed: "Temptation, illusion, diversion" },
  { name: "Eight of Cups", arcana: "Minor", suit: "Cups", upright: "Walking away, leaving behind, withdrawal", reversed: "Stagnation, fear of change, avoidance" },
  { name: "Nine of Cups", arcana: "Minor", suit: "Cups", upright: "Satisfaction, emotional stability, luxury", reversed: "Lack of inner joy, dissatisfaction" },
  { name: "Ten of Cups", arcana: "Minor", suit: "Cups", upright: "Divine love, blissful relationships, harmony", reversed: "Disconnection, misaligned values" },
  { name: "Page of Cups", arcana: "Minor", suit: "Cups", upright: "Creative opportunities, curiosity, possibility", reversed: "Emotional immaturity, disappointment" },
  { name: "Knight of Cups", arcana: "Minor", suit: "Cups", upright: "Romance, charm, imagination, beauty", reversed: "Moodiness, disappointment" },
  { name: "Queen of Cups", arcana: "Minor", suit: "Cups", upright: "Compassion, calm, comfort", reversed: "Insecurity, dependence, codependency" },
  { name: "King of Cups", arcana: "Minor", suit: "Cups", upright: "Emotional balance, generosity, diplomacy", reversed: "Moodiness, volatility, manipulation" },

  // ----- Swords -----
  { name: "Ace of Swords", arcana: "Minor", suit: "Swords", upright: "Breakthrough, clarity, sharp mind", reversed: "Confusion, brutality, chaos" },
  { name: "Two of Swords", arcana: "Minor", suit: "Swords", upright: "Difficult choices, indecision, stalemate", reversed: "Lesser of two evils, no right choice, confusion" },
  { name: "Three of Swords", arcana: "Minor", suit: "Swords", upright: "Heartbreak, suffering, grief", reversed: "Recovery, forgiveness, moving on" },
  { name: "Four of Swords", arcana: "Minor", suit: "Swords", upright: "Rest, restoration, contemplation", reversed: "Restlessness, burnout, stress" },
  { name: "Five of Swords", arcana: "Minor", suit: "Swords", upright: "Conflict, disagreements, defeat", reversed: "Reconciliation, making amends" },
  { name: "Six of Swords", arcana: "Minor", suit: "Swords", upright: "Transition, leaving behind, moving on", reversed: "Emotional baggage, unresolved issues" },
  { name: "Seven of Swords", arcana: "Minor", suit: "Swords", upright: "Deception, trickery, tactics, strategy", reversed: "Coming clean, rethinking approach" },
  { name: "Eight of Swords", arcana: "Minor", suit: "Swords", upright: "Imprisonment, entrapment, self-victimization", reversed: "Self-acceptance, freedom, new perspective" },
  { name: "Nine of Swords", arcana: "Minor", suit: "Swords", upright: "Anxiety, worry, fear, depression", reversed: "Inner turmoil, deep secrets, recovering hope" },
  { name: "Ten of Swords", arcana: "Minor", suit: "Swords", upright: "Failure, collapse, defeat, painful ending", reversed: "Survival, improvement, inevitable end" },
  { name: "Page of Swords", arcana: "Minor", suit: "Swords", upright: "Curiosity, restlessness, mental energy", reversed: "Deception, manipulation, cynicism" },
  { name: "Knight of Swords", arcana: "Minor", suit: "Swords", upright: "Action, impulsiveness, defending beliefs", reversed: "No direction, disregard for consequences" },
  { name: "Queen of Swords", arcana: "Minor", suit: "Swords", upright: "Complexity, perception, clear-mindedness", reversed: "Cold hearted, bitterness, resentment" },
  { name: "King of Swords", arcana: "Minor", suit: "Swords", upright: "Intellectual, power, authority, truth", reversed: "Manipulative, cruel, weakness" },
  // ----- Pentacles -----
  { name: "Ace of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Opportunity, prosperity, new venture", reversed: "Lost opportunity, missed chance, bad investment" },
  { name: "Two of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Balance, adaptability, time management", reversed: "Disorganization, overextension, financial mess" },
  { name: "Three of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Teamwork, collaboration, building", reversed: "Lack of teamwork, poor planning, group conflict" },
  { name: "Four of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Conservation, security, frugality", reversed: "Greediness, overspending, vulnerability" },
  { name: "Five of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Poverty, worry, isolation, insecurity", reversed: "Recovery, charity, improvement" },
  { name: "Six of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Generosity, charity, community, material help", reversed: "Debt, selfishness, one-sided charity" },
  { name: "Seven of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Long-term view, perseverance, reward", reversed: "Lack of growth, impatience, setbacks" },
  { name: "Eight of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Diligence, passion, high standards", reversed: "Laziness, lack of focus, poor quality" },
  { name: "Nine of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Luxury, self-sufficiency, achievement", reversed: "Overinvestment, setbacks, losses" },
  { name: "Ten of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Wealth, family, legacy, inheritance", reversed: "Financial failure, family conflict" },
  { name: "Page of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Ambition, desire, diligence", reversed: "Laziness, lack of commitment, missed chances" },
  { name: "Knight of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Efficiency, routine, responsibility", reversed: "Boredom, stagnation, lack of progress" },
  { name: "Queen of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Practicality, security, nurturing", reversed: "Self-centeredness, jealousy, smothering" },
  { name: "King of Pentacles", arcana: "Minor", suit: "Pentacles", upright: "Abundance, leadership, discipline", reversed: "Greed, indulgence, mismanagement" },

  // ----- Wands -----
  { name: "Ace of Wands", arcana: "Minor", suit: "Wands", upright: "Inspiration, new opportunities, growth", reversed: "Delays, lack of motivation, weighed down" },
  { name: "Two of Wands", arcana: "Minor", suit: "Wands", upright: "Planning, progress, decisions", reversed: "Fear of change, playing safe, bad planning" },
  { name: "Three of Wands", arcana: "Minor", suit: "Wands", upright: "Looking ahead, rapid growth, expansion", reversed: "Obstacles, delays, frustration" },
  { name: "Four of Wands", arcana: "Minor", suit: "Wands", upright: "Community, home, celebration", reversed: "Lack of support, transience, home conflicts" },
  { name: "Five of Wands", arcana: "Minor", suit: "Wands", upright: "Competition, conflict, rivalry", reversed: "Avoiding conflict, compromise, harmony" },
  { name: "Six of Wands", arcana: "Minor", suit: "Wands", upright: "Victory, recognition, progress", reversed: "Egotism, disrepute, fall from grace" },
  { name: "Seven of Wands", arcana: "Minor", suit: "Wands", upright: "Perseverance, defense, maintaining control", reversed: "Giving up, overwhelmed, lack of confidence" },
  { name: "Eight of Wands", arcana: "Minor", suit: "Wands", upright: "Rapid action, movement, quick decisions", reversed: "Delays, frustration, resisting change" },
  { name: "Nine of Wands", arcana: "Minor", suit: "Wands", upright: "Resilience, grit, persistence", reversed: "Exhaustion, fatigue, questioning motives" },
  { name: "Ten of Wands", arcana: "Minor", suit: "Wands", upright: "Burden, responsibility, stress", reversed: "Taking on too much, avoiding responsibility" },
  { name: "Page of Wands", arcana: "Minor", suit: "Wands", upright: "Exploration, excitement, freedom", reversed: "Lack of direction, pessimism, immaturity" },
  { name: "Knight of Wands", arcana: "Minor", suit: "Wands", upright: "Action, adventure, impulsiveness", reversed: "Haste, scattered energy, frustration" },
  { name: "Queen of Wands", arcana: "Minor", suit: "Wands", upright: "Courage, confidence, determination", reversed: "Selfishness, jealousy, demanding" },
  { name: "King of Wands", arcana: "Minor", suit: "Wands", upright: "Leadership, vision, honor", reversed: "Impulsiveness, overbearing, impossible expectations" }
];

/* Shuffle the deck */
let shuffledTarot = [];
function shuffleTarot() {
  shuffledTarot = tarotDeck.slice();
  for (let i = shuffledTarot.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffledTarot[i], shuffledTarot[j]] = [shuffledTarot[j], shuffledTarot[i]];
  }
  document.getElementById("tarotResults").innerHTML = "";
}

/* Draw cards */
function drawTarot(num) {
  if (!shuffledTarot.length) shuffleTarot();
  const results = [];
  let tempDeck = shuffledTarot.slice();
  for (let i = 0; i < num; i++) {
    if (!tempDeck.length) break;
    const idx = Math.floor(Math.random() * tempDeck.length);
    let card = tempDeck.splice(idx, 1)[0];
    let reversed = Math.random() < 0.5;
    results.push({ ...card, isReversed: reversed });
  }
  displayTarotResults(results);
}

/* Display cards */
function displayTarotResults(cards) {
  let div = document.getElementById("tarotResults");
  div.innerHTML = "";
  cards.forEach(c => {
    div.innerHTML += `
      <div class="tarot-card">
        <div class="tarot-name">${c.name}${c.isReversed ? " (Reversed)" : ""}</div>
        <div class="tarot-arcana">${c.arcana}${c.suit ? " ‚Äì " + c.suit : ""}</div>
        <div class="tarot-orientation">${c.isReversed ? "Reversed" : "Upright"}</div>
        <div class="tarot-meaning">${c.isReversed ? c.reversed : c.upright}</div>
      </div>
    `;
  });
}

/* Orbit FAB */
const coreFab = document.getElementById('coreFab');
const fabIDs = ['fab-trope','fab-home'];
const childFabs = fabIDs.map(id=>document.getElementById(id));
let fabOpen = false;

coreFab.onclick = function() {
  fabOpen = !fabOpen;
  childFabs.forEach((fab, i) => {
    if (fabOpen) {
      fab.style.opacity = '1';
      fab.style.pointerEvents = 'auto';
      const angle = 90 + i*45;
      const rad = angle * Math.PI / 180;
      const dist = 90;
      fab.style.transform = `translate(${Math.cos(rad)*dist}px, ${-Math.sin(rad)*dist}px) scale(1.03)`;
    } else {
      fab.style.opacity = '0';
      fab.style.pointerEvents = 'none';
      fab.style.transform = 'translate(0,0) scale(.91)';
    }
  });
};

document.addEventListener('click', function(e){
  if(fabOpen && !coreFab.contains(e.target) && !childFabs.some(fab=>fab.contains(e.target))){
    fabOpen = false;
    childFabs.forEach(fab=>{
      fab.style.opacity='0';
      fab.style.pointerEvents='none';
      fab.style.transform='translate(0,0) scale(.91)';
    });
  }
});

/* Init */
shuffleTarot();
</script>
</body>
</html>
